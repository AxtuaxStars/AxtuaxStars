<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Axtuax Stars</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        h2 { padding: 10px; color: white; }
        .semestre1 { background-color: #1E90FF; }
        .semestre2 { background-color: #32CD32; }
        .semestre3 { background-color: #FFA500; }
        .semestre4 { background-color: #FF6347; }
        .semestre5 { background-color: #FFD700; }
        .star { font-size: 25px; cursor: pointer; color: lightgray; margin-right: 2px; }
        .star.selected { color: gold; }
        .question { margin: 5px 0; }
        .section-title { font-weight: bold; margin-top: 10px; }
        button { margin: 5px 0 10px 0; padding: 5px 10px; cursor: pointer; }
        ul { list-style-type: disc; margin-left: 20px; }
        .maestra-block { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>Califica a tus maestros</h1>
    <p>Puedes calificar a cada maestro usando las estrellas. El promedio se actualizará automáticamente.</p>

    <!-- Aquí iremos agregando los semestres y materias -->

    <script>
        function toggleQuestions(id) {
            const el = document.getElementById(id);
            el.style.display = el.style.display === 'none' ? 'block' : 'none';
        }

        function crearEstrellas() {
            document.querySelectorAll('.star-rating').forEach(starDiv => {
                const maestra = starDiv.dataset.maestra;
                const stars = [];
                starDiv.innerHTML = ''; // Limpiar por si hay duplicados
                for(let i=1;i<=5;i++){
                    const star = document.createElement('span');
                    star.classList.add('star');
                    star.innerHTML = '⭐';
                    star.dataset.value = i;
                    starDiv.appendChild(star);
                    stars.push(star);
                }

                stars.forEach(star => {
                    star.addEventListener('click', () => {
                        stars.forEach(s => s.classList.remove('selected'));
                        star.classList.add('selected');
                        let prev = star.previousElementSibling;
                        while(prev){ prev.classList.add('selected'); prev=prev.previousElementSibling;}
                        calcularPromedio(maestra);
                    });
                    star.addEventListener('mouseover', () => {
                        stars.forEach(s => s.style.color='lightgray');
                        star.style.color='gold';
                        let prev = star.previousElementSibling;
                        while(prev){ prev.style.color='gold'; prev=prev.previousElementSibling;}
                    });
                    star.addEventListener('mouseout', () => {
                        stars.forEach(s => s.style.color = s.classList.contains('selected')?'gold':'lightgray');
                    });
                });
            });
        }

        function calcularPromedio(maestra){
            const estrellas = document.querySelectorAll(.star-rating[data-maestra='${maestra}'] .star.selected);
            const total = document.querySelectorAll(.star-rating[data-maestra='${maestra}'] .star).length;
            const promedio = (estrellas.length/total*5).toFixed(1);
            document.getElementById(${maestra}Prom).innerText = promedio;
        }

        window.onload = crearEstrellas;
    </script>
</body>
</html>
